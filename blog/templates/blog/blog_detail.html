{% extends 'base_generic.html' %}
{% block title %} 
{{ blog.title }} {% endblock title %}

{% block content %} 

<div class="blog-header">
  <h2>{{blog.title}}</h2>
  <p>
    written by
    <strong>
      <a href="{% url 'author-detail' blog.blogger.pk %}">
        {{blog.blogger.name}}
      </a>
    </strong>
    |
    <i>{{blog.post_date}} </i>
  </p>
</div>

<div class="blog-contents">

    
    {% for content in blog.content_set.all %}

    <p>
        {{content.text}}
    </p>

    {% endfor %}
        

</div>

<h4>Comments</h4>
<hr>



<div class="comments">

  
  {% for comment in blog.comment_set.all %}
    
    <div class="comment">

      <h6> {{comment.user.first_name}} {{comment.user.last_name}} </h6>
      <i> {{comment.comment_date}} </i>
      <p>
        {{comment.text}}
      </p>

    </div>

  {% endfor %}

  
  {% if user.is_authenticated %}

    <a href="{% url 'add-comment' blog.pk %}">Add a new Comment</a>

  {% else %}

    You should be logged in to add a comment. Please <a href="{% url 'login' %}?next={{request.path}}">Login</a>

  {% endif %}

    

</div>

{% endblock content %}
